.\" Man page generated from reStructeredText.
.
.TH VARNISHADM 1 "2010-05-31" "0.3" ""
.SH NAME
varnishadm \- Control a running varnish instance
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
varnishadm [\-t timeout] [\-S secret_file] [\-T address:port] [\-n name] [command [...]]
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
The varnishadm utility establishes a CLI connection to varnishd either
using \-n \fIname\fP or using the \-T and \-S arguments. If \-n \fIname\fP is
given the location of the secret file and the address:port is looked
up in shared memory. If neither is given varnishadm will look for an
instance without a given name.
.sp
If a command is given, the command and arguments are sent over the CLI
connection and the result returned on stdout.
.sp
If no command argument is given varnishadm will pass commands and
replies between the CLI socket and stdin/stdout.
.SH OPTIONS
.INDENT 0.0
.TP
.BI \-t \ timeout
.
Wait no longer than this many seconds for an operation to finish.
.TP
.BI \-S \ secret_file
.
Specify the authentication secret file. This should be the same \-S
argument as was given to varnishd. Only processes which can read
the contents of this file, will be able to authenticate the CLI connection.
.UNINDENT
.INDENT 0.0
.TP
.B \-T address:port
.
Connect to the management interface at the specified address and port.
.UNINDENT
.INDENT 0.0
.TP
.BI \-n \ name
.
Connect to the instance of varnishd with this name.
.UNINDENT
.sp
The syntax and operation of the actual CLI interface is described in
the varnish\-cli(7) manual page. Parameteres are described in
varnishd(1) manual page.
.sp
Additionally, a summary of commands can be obtained by issuing the
\fIhelp\fP command, and a summary of parameters can be obtained by issuing
the \fIparam.show\fP command.
.SH EXIT STATUS
.sp
If a command is given, the exit status of the varnishadm utility is
zero if the command succeeded, and non\-zero otherwise.
.SH EXAMPLES
.sp
Some ways you can use varnishadm::
.sp
.nf
.ft C
varnishadm \-T localhost:999 \-S /var/db/secret vcl.use foo
echo vcl.use foo | varnishadm \-T localhost:999 \-S /var/db/secret
echo vcl.use foo | ssh vhost varnishadm \-T localhost:999 \-S /var/db/secret
.ft P
.fi
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
.
varnishd(1)
.UNINDENT
.SH HISTORY
.sp
The varnishadm utility and this manual page were written by Cecilie
Fritzvold. Converted to reStructured and updated in 2010 by Per
Buer.
.SH COPYRIGHT
.sp
This document is licensed under the same licence as Varnish
itself. See LICENCE for details.
.INDENT 0.0
.IP \(bu 2
.
Copyright (c) 2007\-2011 Varnish Software AS
.UNINDENT
.SH AUTHOR
Cecilie Fritzvold, Per Buer
.\" Generated by docutils manpage writer.
.\" 
.
